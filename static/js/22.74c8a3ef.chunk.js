(this["webpackJsonppancake-frontend"]=this["webpackJsonppancake-frontend"]||[]).push([[22],{1521:function(e,t,n){},1563:function(e,t,n){"use strict";n.r(t);var c,r,i=n(0),a=n(75),o=n(87),s=n(3),l=n.n(s),b=n(11),j=n(9),x=n(42),d=n(2),u=n(251),O=n.n(u),h=n(890),p=n.n(h),f=n(186),m=n(803),g=n(72),v=n(370),w=n(174),S=n(125),y=n(68),k=n(918),I=n(14),C=n(88),N=n(368),A=n(19),B=n(53),F=n(96),P=n(131),D=n(31),T=n(29),E=n(32),L=n(61),R=n(43),M=n(130),W=n(812),z=n(98),_=n(103),U=n(70),V=n(367),Z=n(94),Y=n(8),H=n(6);!function(e){e[e.BNB=0]="BNB",e[e.WBNB=1]="WBNB"}(c||(c={})),function(e){e[e.REVIEW=0]="REVIEW",e[e.APPROVE_AND_CONFIRM=1]="APPROVE_AND_CONFIRM",e[e.CONFIRM=2]="CONFIRM",e[e.TX_CONFIRMED=3]="TX_CONFIRMED"}(r||(r={}));var J,Q,X,q,G,K,$,ee,te,ne,ce,re,ie,ae,oe,se,le,be,je,xe,de,ue,Oe,he,pe,fe,me,ge,ve,we,Se,ye,ke,Ie=n(1),Ce=Object(H.e)(d.Bb)(J||(J=Object(Y.a)(["\n  & > div:last-child {\n    padding: 0;\n  }\n  & h2:first-of-type {\n    ",";\n  }\n  & svg:first-of-type {\n    ",";\n  }\n"])),(function(e){var t=e.stage,n=e.theme;return t===r.APPROVE_AND_CONFIRM||t===r.CONFIRM?"color: ".concat(n.colors.textSubtle):null}),(function(e){var t=e.stage,n=e.theme;return t===r.APPROVE_AND_CONFIRM||t===r.CONFIRM?"fill: ".concat(n.colors.textSubtle):null})),Ne=Object(H.e)(d.cb)(Q||(Q=Object(Y.a)(["\n  margin: 16px 0;\n  padding: 16px;\n  background-color: ",";\n  border: 1px solid ",";\n  border-radius: ",";\n  grid-template-columns: 1fr 1fr;\n  grid-row-gap: 8px;\n"])),(function(e){return e.theme.colors.background}),(function(e){return e.theme.colors.cardBorder}),(function(e){return e.theme.radii.default})),Ae=function(e){var t=e.bnbAmount,n=e.isLoading,c=e.isInsufficient,r=Object(N.a)();if(n)return Object(Ie.jsxs)(d.bb,{flexDirection:"column",justifySelf:"flex-end",children:[Object(Ie.jsx)(d.dc,{width:"86px",height:"20px",mb:"6px"}),Object(Ie.jsx)(d.dc,{width:"86px",height:"20px"})]});var i=Object(C.d)(r,t);return Object(Ie.jsxs)(d.bb,{justifySelf:"flex-end",flexDirection:"column",children:[Object(Ie.jsxs)(d.bb,{justifyContent:"flex-end",children:[Object(Ie.jsx)(d.l,{height:16,width:16,mr:"4px"}),Object(Ie.jsx)(d.xc,{bold:!0,color:c?"failure":"text",children:"".concat(t.toLocaleString(void 0,{minimumFractionDigits:3,maximumFractionDigits:3}))})]}),Object(Ie.jsx)(d.xc,{small:!0,color:"textSubtle",textAlign:"right",children:"($".concat(i.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),")")})]})},Be=n(101),Fe=n(36),Pe=n(835),De=function(e){var t=e.nftToBuy,n=e.paymentCurrency,r=e.setPaymentCurrency,i=e.nftPrice,a=e.walletBalance,o=e.walletFetchStatus,s=e.notEnoughBnbForPurchase,l=e.continueToNextStage,b=Object(I.b)().t,j=Object(x.c)().account;return Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsxs)(d.bb,{px:"24px",pt:"24px",flexDirection:"column",children:[Object(Ie.jsxs)(d.bb,{children:[Object(Ie.jsx)(Pe.c,{src:t.image.thumbnail,height:68,width:68,mr:"16px"}),Object(Ie.jsxs)(d.bb,{flexDirection:"column",justifyContent:"space-evenly",children:[Object(Ie.jsx)(d.xc,{color:"textSubtle",fontSize:"12px",children:t.collectionName}),Object(Ie.jsx)(d.xc,{bold:!0,children:t.name}),Object(Ie.jsxs)(d.bb,{justifyContent:"space-between",alignItems:"center",children:[Object(Ie.jsx)(d.xc,{fontSize:"12px",color:"textSubtle",p:"0px",height:"16px",mr:"4px",children:b("Token ID:")}),Object(Ie.jsx)(d.t,{as:d.nb,scale:"xs",px:"0px",pt:"2px",external:!0,variant:"text",href:Object(Fe.f)(t.collectionAddress,t.tokenId),children:t.tokenId})]})]})]}),Object(Ie.jsxs)(Ne,{children:[Object(Ie.jsx)(d.xc,{small:!0,color:"textSubtle",children:b("Pay with")}),Object(Ie.jsxs)(d.u,{activeIndex:n,onItemClick:function(e){return r(e)},scale:"sm",variant:"subtle",children:[Object(Ie.jsx)(d.v,{children:"BNB"}),Object(Ie.jsx)(d.v,{children:"WBNB"})]}),Object(Ie.jsx)(d.xc,{small:!0,color:"textSubtle",children:b("Total payment")}),Object(Ie.jsx)(Ae,{bnbAmount:i}),Object(Ie.jsx)(d.xc,{small:!0,color:"textSubtle",children:b("%symbol% in wallet",{symbol:n===c.BNB?"BNB":"WBNB"})}),j?Object(Ie.jsx)(Ae,{bnbAmount:a,isLoading:o!==P.a.SUCCESS,isInsufficient:o===P.a.SUCCESS&&s}):Object(Ie.jsx)(d.bb,{justifySelf:"flex-end",children:Object(Ie.jsx)(Be.a,{scale:"sm"})})]}),o===P.a.SUCCESS&&s&&Object(Ie.jsx)(d.yb,{p:"8px",variant:"danger",children:Object(Ie.jsx)(d.xc,{children:b("Not enough %symbol% to purchase this NFT",{symbol:n===c.BNB?"BNB":"WBNB"})})}),Object(Ie.jsxs)(d.bb,{alignItems:"center",children:[Object(Ie.jsxs)(d.xc,{my:"16px",mr:"4px",children:[b("Convert between BNB and WBNB for free"),":"]}),Object(Ie.jsx)(d.t,{as:d.nb,p:"0px",height:"16px",external:!0,variant:"text",href:"".concat(y.f,"/swap?inputCurrency=BNB&outputCurrency=0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c"),children:b("Convert")})]})]}),Object(Ie.jsx)(Pe.a,{}),Object(Ie.jsxs)(d.bb,{px:"24px",pb:"24px",flexDirection:"column",children:[Object(Ie.jsx)(d.t,{onClick:l,disabled:o!==P.a.SUCCESS||s,mb:"8px",children:b("Checkout")}),Object(Ie.jsx)(d.t,{as:d.nb,external:!0,style:{width:"100%"},href:"".concat(y.f,"/swap?outputCurrency=BNB"),variant:"secondary",children:b("Get %symbol1% or %symbol2%",{symbol1:"BNB",symbol2:"WBNB"})})]})]})},Te=n(1130),Ee=n(1128),Le=n(1129),Re=(X={},Object(A.a)(X,r.REVIEW,"Review"),Object(A.a)(X,r.APPROVE_AND_CONFIRM,"Back"),Object(A.a)(X,r.CONFIRM,"Back"),Object(A.a)(X,r.TX_CONFIRMED,"Transaction Confirmed"),X),Me=function(e){var t=e.nftToBuy,n=e.onDismiss,a=Object(i.useState)(r.REVIEW),o=Object(j.a)(a,2),s=o[0],d=o[1],u=Object(i.useState)(""),O=Object(j.a)(u,2),h=O[0],p=O[1],f=Object(i.useState)(c.BNB),m=Object(j.a)(f,2),g=m[0],v=m[1],w=Object(i.useState)(!1),S=Object(j.a)(w,2),y=S[0],k=S[1],C=Object(F.a)().theme,N=Object(I.b)().t,A=Object(M.a)().callWithGasPrice,Y=Object(x.c)().account,H=Object(R.i)(E.a.wbnb.address),J=Object(R.p)(),Q=Object(z.a)().toastSuccess,X=Object(U.b)(),q=Object(L.parseUnits)(t.marketData.currentAskPrice,"ether"),G=parseFloat(t.marketData.currentAskPrice),K=Object(P.d)(),$=K.balance,ee=K.fetchStatus,te=parseFloat(Object(L.formatEther)($)),ne=Object(P.b)(E.a.wbnb.address),ce=ne.balance,re=ne.fetchStatus,ie=Object(D.g)(ce),ae=g===c.BNB?te:ie,oe=g===c.BNB?ee:re,se=g===c.BNB?$.lt(q):ce.lt(Object(T.d)(q));Object(i.useEffect)((function(){$.lt(q)&&ce.gte(Object(T.d)(q))&&!y&&(v(c.WBNB),k(!0))}),[$,ce,q,y]);var le=Object(W.a)({onRequiresApproval:function(){var e=Object(b.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.allowance(Y,J.address);case 3:return t=e.sent,e.abrupt("return",t.gt(0));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),onApprove:function(){return A(H,"approve",[J.address,B.a.constants.MaxUint256])},onApproveSuccess:function(){var e=Object(b.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.receipt,Q(N("Contract approved - you can now buy NFT with WBNB!"),Object(Ie.jsx)(_.b,{txHash:n.transactionHash}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onConfirm:function(){var e=Number.isNaN(G)?B.a.BigNumber.from(0):Object(L.parseUnits)(t.marketData.currentAskPrice);return g===c.BNB?A(J,"buyTokenUsingBNB",[t.collectionAddress,t.tokenId],{value:e}):A(J,"buyTokenUsingWBNB",[t.collectionAddress,t.tokenId,e])},onSuccess:function(){var e=Object(b.a)(l.a.mark((function e(n){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=n.receipt,p(c.transactionHash),d(r.TX_CONFIRMED),X(Object(V.a)({tokenId:t.tokenId,collectionAddress:t.collectionAddress,nftLocation:Z.c.WALLET})),Q(N("Your NFT has been sent to your wallet"),Object(Ie.jsx)(_.b,{txHash:c.transactionHash}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),be=le.isApproving,je=le.isApproved,xe=le.isConfirming,de=le.handleApprove,ue=le.handleConfirm,Oe=s===r.CONFIRM||s===r.APPROVE_AND_CONFIRM;return Object(Ie.jsxs)(Ce,{title:N(Re[s]),stage:s,onDismiss:n,onBack:Oe?function(){d(r.REVIEW)}:null,headerBackground:C.colors.gradients.cardHeader,children:[s===r.REVIEW&&Object(Ie.jsx)(De,{nftToBuy:t,paymentCurrency:g,setPaymentCurrency:v,nftPrice:G,walletBalance:ae,walletFetchStatus:oe,notEnoughBnbForPurchase:se,continueToNextStage:function(){g!==c.WBNB||je?d(r.CONFIRM):d(r.APPROVE_AND_CONFIRM)}}),s===r.APPROVE_AND_CONFIRM&&Object(Ie.jsx)(Ee.a,{variant:"buy",handleApprove:de,isApproved:je,isApproving:be,isConfirming:xe,handleConfirm:ue}),s===r.CONFIRM&&Object(Ie.jsx)(Te.a,{isConfirming:xe,handleConfirm:ue}),s===r.TX_CONFIRMED&&Object(Ie.jsx)(Le.a,{txHash:h,onDismiss:n})]})},We=n(855),ze=n(92),_e=Object(H.e)(d.bb)(q||(q=Object(Y.a)(["\n  gap: 22px;\n  align-items: flex-start;\n  & > div:first-child {\n    flex: 1;\n    gap: 20px;\n  }\n  & > div:last-child {\n    flex: 2;\n  }\n"]))),Ue=Object(H.e)(d.hb)(G||(G=Object(Y.a)(["\n  height: max-content;\n  border-radius: ",";\n  overflow: hidden;\n  & > img {\n    object-fit: contain;\n  }\n"])),(function(e){return e.theme.radii.default})),Ve=Object(H.e)(d.hb)(K||(K=Object(Y.a)(["\n  & > img {\n    border-radius: ",";\n  }\n"])),(function(e){return e.theme.radii.default})),Ze=Object(H.e)(d.bb)($||($=Object(Y.a)(["\n  gap: 24px;\n"]))),Ye=Object(H.e)(ze.a)(ee||(ee=Object(Y.a)(["\n  color: ",";\n  display: block;\n  font-weight: 600;\n  margin-top: 16px;\n\n  "," {\n    margin-top: 50px;\n  }\n"])),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.mediaQueries.lg})),He=Object(H.e)(d.cb)(te||(te=Object(Y.a)(["\n  &:hover {\n    opacity: 0.5;\n    cursor: pointer;\n  }\n"]))),Je=H.e.button(ne||(ne=Object(Y.a)(["\n  border: none;\n  cursor: pointer;\n  background: none;\n  color: ",";\n  font-weight: bold;\n"])),(function(e){return e.theme.colors.secondary})),Qe=Object(H.e)(d.o)(ce||(ce=Object(Y.a)(["\n  text-align: right;\n  padding-right: 24px;\n"]))),Xe=Object(H.e)(d.cb)(re||(re=Object(Y.a)(["\n  border-bottom: ",";\n"])),(function(e){var t=e.theme;return"1px solid ".concat(t.colors.cardBorder)})),qe=function(e){var t,n=e.cheapestNft,c=e.cheapestNftFromOtherSellers,r=e.nothingForSaleBunny,i=Object(I.b)().t,a=Object(N.a)(),s=c||n||r,l=!c,b=c||n,x=Object(C.d)(a,parseFloat(null===(t=s.marketData)||void 0===t?void 0:t.currentAskPrice)),u=Object(d.Zc)(Object(Ie.jsx)(Me,{nftToBuy:s})),O=Object(j.a)(u,1)[0],h=Object(d.Zc)(Object(Ie.jsx)(We.a,{variant:"edit",nftToSell:n})),p=Object(j.a)(h,1)[0],f=l?Object(Ie.jsx)(d.t,{variant:"danger",minWidth:"168px",width:["100%",null,"max-content"],mt:"24px",onClick:p,children:i("Adjust Sale Price")}):Object(Ie.jsx)(d.t,{disabled:l,minWidth:"168px",width:["100%",null,"max-content"],mt:"24px",onClick:O,children:i("Buy")});return Object(Ie.jsx)(d.y,{mb:"40px",children:Object(Ie.jsx)(d.z,{children:Object(Ie.jsxs)(Ze,{flexDirection:["column-reverse",null,"row"],children:[Object(Ie.jsx)(d.bb,{flex:"2",children:Object(Ie.jsxs)(d.o,{children:[Object(Ie.jsx)(Ye,{to:"".concat(o.b,"/collections/").concat(s.collectionAddress),children:s.collectionName}),Object(Ie.jsx)(d.xc,{fontSize:"40px",bold:!0,mt:"12px",children:s.name}),Object(Ie.jsx)(d.xc,{mt:["16px","16px","48px"],children:i(s.description)}),(n||c)&&Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsx)(d.xc,{color:"textSubtle",mt:["16px","16px","48px"],children:i("Lowest price")}),Object(Ie.jsxs)(d.bb,{alignItems:"center",mt:"8px",children:[Object(Ie.jsx)(d.l,{width:18,height:18,mr:"4px"}),Object(Ie.jsx)(d.xc,{fontSize:"24px",bold:!0,mr:"4px",children:s.marketData.currentAskPrice}),a?Object(Ie.jsx)(d.xc,{color:"textSubtle",children:"(~".concat(x.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})," USD)")}):Object(Ie.jsx)(d.dc,{width:"64px"})]})]}),b&&f]})}),Object(Ie.jsx)(d.bb,{flex:"2",justifyContent:["center",null,"flex-end"],alignItems:"center",children:Object(Ie.jsx)(Ue,{src:s.image.thumbnail,width:440,height:440})})]})})})},Ge=Object(H.f)(ie||(ie=Object(Y.a)(["\n  from {\n    max-height: 0px;\n  }\n  to {\n    max-height: 720px;\n  }\n"]))),Ke=Object(H.f)(ae||(ae=Object(Y.a)(["\n  from {\n    max-height: 710px;\n  }\n  to {\n    max-height: 0px;\n  }\n"]))),$e=Object(H.e)(d.o)(oe||(oe=Object(Y.a)(["\n  animation: ",";\n"])),(function(e){return e.expanded?Object(H.d)(se||(se=Object(Y.a)(["\n          "," 300ms linear forwards\n        "])),Ge):Object(H.d)(le||(le=Object(Y.a)(["\n          "," 300ms linear forwards\n        "])),Ke)})),et=Object(H.e)(d.y)(be||(be=Object(Y.a)(["\n  width: 100%;\n"]))),tt=function(e){var t=e.icon,n=e.title,c=e.content,r=Object(i.useState)(!0),a=Object(j.a)(r,2),o=a[0],s=a[1],l=Object(F.a)().theme;return Object(Ie.jsxs)(et,{children:[Object(Ie.jsxs)(d.cb,{gridTemplateColumns:"1fr 8fr 1fr",alignItems:"center",height:"72px",px:"24px",borderBottom:"1px solid ".concat(l.colors.cardBorder),children:[t,Object(Ie.jsx)(d.xc,{bold:!0,children:n}),Object(Ie.jsx)(d.gb,{onClick:function(){s((function(e){return!e}))},variant:"text",maxWidth:"32px",children:o?Object(Ie.jsx)(d.N,{width:"24px",height:"24px",color:"textSubtle"}):Object(Ie.jsx)(d.K,{width:"24px",height:"24px",color:"textSubtle"})})]}),Object(Ie.jsx)($e,{expanded:o,children:c})]})},nt=n(840),ct=n(988),rt=Object(H.e)(d.o)(je||(je=Object(Y.a)(["\n  overflow-y: auto;\n  max-height: 224px;\n"]))),it=H.e.div(xe||(xe=Object(Y.a)(["\n  margin: 16px 20px;\n  border-bottom: ",";\n"])),(function(e){var t=e.theme;return"1px solid ".concat(t.colors.cardBorder)})),at=(de={},Object(A.a)(de,Z.c.FORSALE,"failure"),Object(A.a)(de,Z.c.WALLET,"secondary"),Object(A.a)(de,Z.c.PROFILE,"textSubtle"),de),ot=(ue={},Object(A.a)(ue,Z.c.FORSALE,d.cc),Object(A.a)(ue,Z.c.WALLET,d.Qc),Object(A.a)(ue,Z.c.PROFILE,d.x),ue),st=function(e){var t=e.nft,n=e.lowestPrice,c=Object(I.b)().t,r=t.location===Z.c.WALLET?"sell":"edit",i=Object(d.Zc)(Object(Ie.jsx)(ct.a,{nft:t})),a=Object(j.a)(i,1)[0],o=Object(d.Zc)(Object(Ie.jsx)(We.a,{variant:r,nftToSell:t})),s=Object(j.a)(o,1)[0];return Object(Ie.jsxs)(He,{gridTemplateColumns:"96px 1fr",px:"16px",pb:"8px",my:"16px",onClick:t.location===Z.c.PROFILE?a:s,children:[Object(Ie.jsx)(Ve,{src:t.image.thumbnail,width:64,height:64,mx:"16px"}),Object(Ie.jsxs)(d.cb,{gridTemplateColumns:"1fr 1fr",children:[Object(Ie.jsx)(d.xc,{bold:!0,children:t.name}),Object(Ie.jsx)(d.xc,{fontSize:"12px",color:"textSubtle",textAlign:"right",children:t.collectionName}),n&&Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsx)(d.xc,{small:!0,color:"textSubtle",children:c("Lowest price")}),Object(Ie.jsxs)(d.bb,{justifySelf:"flex-end",width:"max-content",children:[Object(Ie.jsx)(d.l,{width:"16px",height:"16px",mr:"4px"}),Object(Ie.jsx)(d.xc,{small:!0,children:n})]})]}),t.location===Z.c.FORSALE?Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsx)(d.xc,{small:!0,color:"textSubtle",children:c("Your price")}),Object(Ie.jsxs)(d.bb,{justifySelf:"flex-end",width:"max-content",children:[Object(Ie.jsx)(d.l,{width:"16px",height:"16px",mr:"4px"}),Object(Ie.jsx)(d.xc,{small:!0,children:t.marketData.currentAskPrice})]})]}):Object(Ie.jsx)(d.xc,{small:!0,color:"textDisabled",children:c("Not on sale")})]})]})},lt=function(e){var t=e.location,n=e.nfts,c=e.lowestPrice,r=Object(I.b)().t,i=ot[t];return Object(Ie.jsxs)(d.bb,{flexDirection:"column",children:[Object(Ie.jsxs)(d.cb,{gridTemplateColumns:"32px 1fr",px:"16px",pb:"8px",children:[Object(Ie.jsx)(i,{color:at[t],width:"24px",height:"24px"}),Object(Ie.jsx)(d.xc,{display:"inline",bold:!0,color:at[t],children:r(t)})]}),Object(Ie.jsx)(rt,{children:n.map((function(e){return Object(Ie.jsx)(st,{nft:e,lowestPrice:c},e.tokenId)}))})]})},bt=function(e){var t=e.bunnyId,n=e.lowestPrice,c=Object(I.b)().t,r=Object(x.c)().account,i=Object(m.k)(),a=i.userNftsInitializationState,o=i.nfts;Object(nt.a)(r);var s=o.filter((function(e){return e.attributes[0].value===t&&e.location===Z.c.WALLET})),l=o.filter((function(e){return e.attributes[0].value===t&&e.location===Z.c.FORSALE})),b=o.filter((function(e){return e.attributes[0].value===t&&e.location===Z.c.PROFILE})),j=a!==Z.d.INITIALIZED,u=!j&&0===s.length&&0===l.length&&0===b.length,O=Object(Ie.jsxs)(d.o,{pt:"16px",children:[!r&&Object(Ie.jsx)(d.bb,{mb:"16px",justifyContent:"center",children:Object(Ie.jsx)(Be.a,{})}),u&&Object(Ie.jsx)(d.xc,{px:"16px",pb:"16px",color:"textSubtle",children:c("You don\u2019t have any of this item.")}),r&&j&&Object(Ie.jsxs)(d.o,{px:"16px",pb:"8px",children:[Object(Ie.jsx)(d.dc,{mb:"8px"}),Object(Ie.jsx)(d.dc,{mb:"8px"}),Object(Ie.jsx)(d.dc,{mb:"8px"})]}),l.length>0&&Object(Ie.jsx)(lt,{location:Z.c.FORSALE,nfts:l,lowestPrice:n}),s.length>0&&Object(Ie.jsxs)(Ie.Fragment,{children:[l.length>0&&Object(Ie.jsx)(it,{}),Object(Ie.jsx)(lt,{location:Z.c.WALLET,nfts:s,lowestPrice:n})]}),b.length>0&&Object(Ie.jsxs)(Ie.Fragment,{children:[(l.length>0||s.length>0)&&Object(Ie.jsx)(it,{}),Object(Ie.jsx)(lt,{location:Z.c.PROFILE,nfts:b,lowestPrice:n})]})]});return Object(Ie.jsx)(tt,{title:c("Manage Yours"),icon:Object(Ie.jsx)(d.Q,{width:"24px",height:"24px"}),content:O})},jt={bunnyId:"Bunny ID"},xt=function(e){var t,n=e.title,c=e.value,r=e.rarity;return Object(Ie.jsxs)(d.bb,{justifyContent:"space-between",alignItems:"center",children:[Object(Ie.jsx)(d.xc,{fontSize:"12px",color:"textSubtle",bold:!0,textTransform:"uppercase",children:null!==(t=jt[n])&&void 0!==t?t:n}),Object(Ie.jsxs)(d.bb,{alignItems:"center",children:[Object(Ie.jsx)(d.xc,{bold:!0,textTransform:"uppercase",mr:"4px",children:c}),r&&Object(Ie.jsxs)(d.xc,{small:!0,color:"textSubtle",children:["(",r.toFixed(2),"%)"]})]})]})},dt=function(e){var t=e.properties,n=e.rarity,c=Object(I.b)().t,r=Object(Ie.jsx)(d.o,{p:"24px",children:t.map((function(e){return Object(Ie.jsx)(xt,{title:e.traitType,value:e.value,rarity:n[e.traitType]},e.traitType)}))});return Object(Ie.jsx)(tt,{title:c("Properties"),icon:Object(Ie.jsx)(d.Jb,{width:"24px",height:"24px"}),content:r})},ut=n(22),Ot=Object(H.e)(d.xc)(Oe||(Oe=Object(Y.a)(["\n  max-width: 120px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]))),ht=function(e){var t=e.contractAddress,n=e.ipfsJson,c=Object(I.b)().t,r=Object(ut.a)().chainId,i=Object(Ie.jsxs)(d.o,{p:"24px",children:[Object(Ie.jsxs)(d.bb,{justifyContent:"space-between",alignItems:"center",mb:"16px",children:[Object(Ie.jsx)(d.xc,{fontSize:"12px",color:"textSubtle",bold:!0,textTransform:"uppercase",children:c("Contract address")}),Object(Ie.jsx)(d.nb,{external:!0,href:Object(Fe.e)(t,"address",r),children:Object(Ie.jsx)(Ot,{bold:!0,children:t})})]}),n&&Object(Ie.jsxs)(d.bb,{justifyContent:"space-between",alignItems:"center",children:[Object(Ie.jsx)(d.xc,{fontSize:"12px",color:"textSubtle",bold:!0,textTransform:"uppercase",children:"IPFS JSON"}),Object(Ie.jsx)(d.nb,{external:!0,href:n,children:Object(Ie.jsx)(Ot,{bold:!0,children:n})})]})]});return Object(Ie.jsx)(tt,{title:c("Details"),icon:Object(Ie.jsx)(d.bc,{width:"24px",height:"24px"}),content:i})},pt=n(30),ft=n(1568),mt=n(1536),gt=n(854),vt=n(989),wt=(n(1521),H.e.div(he||(he=Object(Y.a)(["\n  background-color: ",";\n  width: 12px;\n  height: 12px;\n  margin-right: 8px;\n  border-radius: 50%;\n  cursor: pointer;\n"])),(function(e){var t=e.theme;return e.isActive?t.colors.secondary:t.colors.textDisabled}))),St=H.e.div(pe||(pe=Object(Y.a)(["\n  "," {\n    .swiper-wrapper {\n      max-height: 390px;\n    }\n  }\n"])),(function(e){return e.theme.mediaQueries.md})),yt=function(e){var t=e.collectionAddress,n=e.currentTokenName,c=void 0===n?"":n,r=e.title,a=void 0===r?"More from this collection":r,s=Object(U.b)(),l=Object(I.b)().t,b=Object(i.useState)(null),x=Object(j.a)(b,2),u=x[0],O=x[1],h=Object(i.useState)(1),p=Object(j.a)(h,2),f=p[0],g=p[1],v=Object(d.Yc)(),w=v.isMobile,S=v.isMd,y=v.isLg,k=Object(vt.a)(t),C=Object(m.j)(t),N=Object(Fe.i)(t)===o.c;Object(i.useEffect)((function(){N||s(Object(V.f)({collectionAddress:t,page:1,size:100}))}),[t,s,N]);var A=k?k.filter((function(e){return e.name!==c})):null===C||void 0===C?void 0:C.filter((function(e){return e.name!==c}));if(!A||0===A.length)return null;var B=4,F=3;S&&(B=2,F=6),y&&(B=3,F=4),N&&(A=A.reduce((function(e,t){var n=t.attributes[0].value;return e.find((function(e){return e.attributes[0].value===n}))||e.push(t),e}),[])),A=A.slice(0,12);return Object(Ie.jsxs)(d.o,{pt:"56px",mb:"52px",children:[a&&Object(Ie.jsx)(d.xc,{bold:!0,mb:"24px",children:l(a)}),w?Object(Ie.jsx)(St,{children:Object(Ie.jsx)(ft.a,{spaceBetween:16,slidesPerView:1.5,children:A.map((function(e){return Object(Ie.jsx)(mt.a,{children:Object(Ie.jsx)(gt.b,{nft:e})},e.tokenId)}))})}):Object(Ie.jsxs)(St,{children:[Object(Ie.jsx)(ft.a,{onSwiper:O,onActiveIndexChange:function(e){var t=e.activeIndex;void 0!==t&&g(Math.ceil(t/B))},spaceBetween:16,slidesPerView:B,slidesPerGroup:B,initialSlide:4,children:A.map((function(e){return Object(Ie.jsx)(mt.a,{children:Object(Ie.jsx)(gt.b,{nft:e})},e.tokenId)}))}),Object(Ie.jsxs)(d.bb,{mt:"16px",alignItems:"center",justifyContent:"center",children:[Object(Ie.jsx)(d.gb,{variant:"text",onClick:function(){f>0&&(g(f-1),u.slidePrev())},children:Object(Ie.jsx)(d.c,{})}),Object(pt.a)(Array(F).keys()).map((function(e){return Object(Ie.jsx)(wt,{onClick:function(){return function(e){g(e/B),u.slideTo(e)}(e*B)},isActive:f===e},e)})),Object(Ie.jsx)(d.gb,{variant:"text",onClick:function(){f<F-1&&(g(f+1),u.slideNext())},children:Object(Ie.jsx)(d.f,{})})]})]})]})},kt=n(987),It=Object(H.e)(d.cb)(fe||(fe=Object(Y.a)(["\n  grid-template-columns: 2fr 2fr 1fr;\n  grid-row-gap: 16px;\n  margin-top: 16px;\n  align-itmes: center;\n  & > div {\n    padding-bottom: 16px;\n    border-bottom: ",";\n  }\n"])),(function(e){var t=e.theme;return"1px solid ".concat(t.colors.cardBorder)})),Ct=function(e){var t=e.t,n=e.nft,c=e.bnbBusdPrice,r=e.account,i=Object(C.d)(c,parseFloat(n.marketData.currentAskPrice)),a=!!r&&n.marketData.currentSeller===r.toLowerCase(),o=Object(d.Zc)(Object(Ie.jsx)(Me,{nftToBuy:n})),s=Object(j.a)(o,1)[0],l=Object(d.Zc)(Object(Ie.jsx)(We.a,{variant:"edit",nftToSell:n})),b=Object(j.a)(l,1)[0];return Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsxs)(d.o,{pl:"24px",children:[Object(Ie.jsxs)(d.bb,{justifySelf:"flex-start",alignItems:"center",width:"max-content",children:[Object(Ie.jsx)(d.l,{width:"24px",height:"24px",mr:"8px"}),Object(Ie.jsx)(d.xc,{bold:!0,children:Object(D.e)(parseFloat(n.marketData.currentAskPrice),0,3)})]}),c?Object(Ie.jsx)(d.xc,{fontSize:"12px",color:"textSubtle",children:"(~".concat(Object(D.e)(i,2,2)," USD)")}):Object(Ie.jsx)(d.dc,{width:"86px",height:"12px",mt:"4px"})]}),Object(Ie.jsx)(d.o,{children:Object(Ie.jsx)(d.bb,{width:"max-content",alignItems:"center",children:Object(Ie.jsx)(kt.a,{accountAddress:n.marketData.currentSeller})})}),Object(Ie.jsx)(Qe,{children:a?Object(Ie.jsx)(d.t,{scale:"sm",variant:"danger",maxWidth:"128px",onClick:b,children:t("Edit")}):Object(Ie.jsx)(d.t,{scale:"sm",variant:"secondary",maxWidth:"128px",onClick:s,children:t("Buy")})})]})},Nt=function(e){var t=e.nftsForSale,n=Object(x.c)().account,c=Object(I.b)().t,r=Object(N.a)();return Object(Ie.jsx)(It,{children:t.map((function(e){return Object(Ie.jsx)(Ct,{t:c,nft:e,bnbBusdPrice:r,account:n},e.tokenId)}))})},At=Object(H.f)(me||(me=Object(Y.a)(["\n  from {\n    stroke-dashoffset: 0px;\n  }\n  to {\n    stroke-dashoffset: 113px;\n  }\n"]))),Bt=H.e.div(ge||(ge=Object(Y.a)(["\n  position: relative;\n  margin: auto;\n  height: 40px;\n  width: 40px;\n  text-align: center;\n\n  & svg {\n    position: absolute;\n    top: 0;\n    right: 0;\n    width: 40px;\n    height: 40px;\n    transform: rotateY(-180deg) rotateZ(-90deg);\n\n    & circle {\n      stroke-dasharray: 113px;\n      stroke-dashoffset: 0px;\n      stroke-linecap: round;\n      stroke-width: 2px;\n      stroke: ",";\n      fill: none;\n      animation: "," 10s linear infinite forwards;\n    }\n  }\n"])),(function(e){return e.theme.colors.primaryBright}),At),Ft=function(e){var t=e.secondsRemaining,n=e.isUpdating;return t<1||n?Object(Ie.jsx)(d.gc,{size:42}):Object(Ie.jsxs)(Bt,{children:[Object(Ie.jsx)(d.xc,{color:"textSubtle",lineHeight:"40px",display:"inline-block",children:t}),Object(Ie.jsx)("svg",{children:Object(Ie.jsx)("circle",{r:"18",cx:"20",cy:"20"})})]})},Pt=function(){var e=Object(I.b)().t,t=Object(i.useState)(10),n=Object(j.a)(t,2),c=n[0],r=n[1],a=Object(m.i)().isUpdatingPancakeBunnies,o=Object(d.bd)(e("Items in the table update every 10 seconds"),{placement:"auto"}),s=o.tooltip,l=o.tooltipVisible,b=o.targetRef;return Object(i.useEffect)((function(){var e=setInterval((function(){r((function(e){return e-1}))}),1e3);return function(){clearInterval(e)}}),[]),Object(i.useEffect)((function(){a||r(10)}),[a]),Object(Ie.jsxs)(d.bb,{justifyContent:"center",ref:b,children:[Object(Ie.jsx)(Ft,{secondsRemaining:c,isUpdating:a}),l&&s]})},Dt=n(917),Tt=Object(H.e)(d.y)(ve||(ve=Object(Y.a)(["\n  width: 100%;\n  & > div:first-child {\n    ","\n    display: flex;\n    flex-direction: column;\n    "," {\n      ","\n    }\n  }\n"])),(function(e){return e.hasManyPages?"min-height: 480px;":null}),(function(e){return e.theme.mediaQueries.md}),(function(e){return e.hasManyPages?"min-height: 850px;":null})),Et=function(e){var t=e.nftsForSale,n=e.bunnyId,c=e.totalForSale,r=e.loadMore,a=e.isFetchingMoreNfts,o=e.priceSort,s=e.togglePriceSort,l=Object(i.useState)(1),b=Object(j.a)(l,2),x=b[0],u=b[1],O=Object(d.Yc)().isMobile?5:10,h=Object(I.b)().t,p=Object(F.a)().theme;Object(i.useEffect)((function(){u(1)}),[n,o]);var f=t.length%O!==0,m=Math.floor(t.length/O);f&&(m+=1);var g=t.slice((x-1)*O,x*O),v=function(e){u(e)},w=a?Object(Ie.jsx)(d.bb,{width:"96px",justifyContent:"center",children:Object(Ie.jsx)(d.gc,{size:32})}):Object(Ie.jsx)(d.t,{variant:"primary",scale:"xs",ml:"12px",onClick:function(){r(o)},children:h("Load more")});return Object(Ie.jsxs)(Tt,{hasManyPages:m>1,children:[Object(Ie.jsxs)(d.cb,{flex:"0 1 auto",gridTemplateColumns:"34px 1fr 48px",alignItems:"center",height:"72px",px:"24px",borderBottom:"1px solid ".concat(p.colors.cardBorder),children:[Object(Ie.jsx)(d.cc,{width:"24px",height:"24px"}),Object(Ie.jsx)(d.xc,{bold:!0,children:h("For Sale (%num%)",{num:c.toLocaleString()})}),Object(Ie.jsx)(Pt,{})]}),g.length>0?Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsxs)(Xe,{flex:"0 1 auto",gridTemplateColumns:"2fr 2fr 1fr",py:"12px",children:[Object(Ie.jsx)(Je,{type:"button",onClick:s,children:Object(Ie.jsxs)(d.bb,{alignItems:"center",children:[Object(Ie.jsx)(d.xc,{textTransform:"uppercase",color:"textSubtle",bold:!0,fontSize:"12px",px:"24px",children:h("Price")}),"asc"===o?Object(Ie.jsx)(d.h,{color:"textSubtle"}):Object(Ie.jsx)(d.d,{color:"textSubtle"})]})}),Object(Ie.jsx)(d.xc,{textTransform:"uppercase",color:"textSubtle",bold:!0,fontSize:"12px",children:h("Owner")})]}),Object(Ie.jsxs)(d.bb,{flex:"1 1 auto",flexDirection:"column",justifyContent:"space-between",height:"100%",children:[Object(Ie.jsx)(Nt,{nftsForSale:g}),Object(Ie.jsxs)(Dt.b,{children:[Object(Ie.jsx)(Dt.a,{onClick:function(){v(1===x?x:x-1)},children:Object(Ie.jsx)(d.c,{color:1===x?"textDisabled":"primary"})}),Object(Ie.jsx)(d.xc,{children:h("Page %page% of %maxPage%",{page:x,maxPage:m})}),x===m?w:Object(Ie.jsx)(Dt.a,{onClick:function(){v(x===m?x:x+1)},children:Object(Ie.jsx)(d.f,{color:x===m?"textDisabled":"primary"})})]})]})]}):Object(Ie.jsx)(d.bb,{justifyContent:"center",alignItems:"center",height:"200px",children:Object(Ie.jsx)(d.xc,{children:h("No items for sale")})})]})},Lt=function(e){var t,n,c=e.bunnyId,r=Object(x.c)().account,a=Object(i.useState)(null),s=Object(j.a)(a,2),u=s[0],h=s[1],I=Object(m.d)(c),C=Object(i.useState)("asc"),N=Object(j.a)(C,2),A=N[0],B=N[1],F=Object(w.a)(A),P=Object(m.a)(c),D=P.isUpdatingPancakeBunnies,T=P.latestPancakeBunniesUpdateAt,E=P.fetchMorePancakeBunnies,L=Object(S.a)().fastRefresh,R=O()(I,(function(e){return parseFloat(e.marketData.currentAskPrice)})),M=r?R.filter((function(e){return e.marketData.currentSeller!==r.toLowerCase()})):R,W=R[0],z=M[0],_=Object(k.b)(),U=_.data,V=_.isFetching;Object(i.useEffect)((function(){Date.now()-T>y.m&&!D&&E(A)}),[A,E,D,T,L]),Object(i.useEffect)((function(){F&&F!==A&&E(A)}),[E,A,F]),Object(i.useEffect)((function(){W||function(){var e=Object(b.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.q)(o.c);case 2:t=e.sent,n=t.data,h({tokenId:n[c].name,name:n[c].name,description:n[c].description,collectionName:n[c].collection.name,collectionAddress:o.c,image:n[c].image,attributes:[{traitType:"bunnyId",value:c,displayType:null}]});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[W,c]);var Z=Object(i.useMemo)((function(){return I.sort(function(e){var t=e.priceSort;return function(e,n){var c,r,i=null!==(c=Number(e.marketData.currentAskPrice))&&void 0!==c?c:0,a=null!==(r=Number(n.marketData.currentAskPrice))&&void 0!==r?r:0;return"asc"===t?i-a:a-i}}({priceSort:A}))}),[I,A]);if(!W&&!u)return Object(Ie.jsx)(v.a,{});var Y=(null===W||void 0===W?void 0:W.attributes)||(null===u||void 0===u?void 0:u.attributes),H={bunnyId:function(){if(U&&!V){var e=p()(Object.values(U));return U[c]/e*100}return null}()};return Object(Ie.jsxs)(f.b,{children:[Object(Ie.jsx)(qe,{cheapestNft:W,cheapestNftFromOtherSellers:z,nothingForSaleBunny:u}),Object(Ie.jsxs)(_e,{flexDirection:["column","column","row"],children:[Object(Ie.jsxs)(d.bb,{flexDirection:"column",width:"100%",children:[Object(Ie.jsx)(bt,{bunnyId:c,lowestPrice:null===W||void 0===W||null===(t=W.marketData)||void 0===t?void 0:t.currentAskPrice}),Object(Ie.jsx)(dt,{properties:Y,rarity:H}),Object(Ie.jsx)(ht,{contractAddress:o.c,ipfsJson:null===W||void 0===W||null===(n=W.marketData)||void 0===n?void 0:n.metadataUrl})]}),Object(Ie.jsx)(Et,{nftsForSale:Z,bunnyId:c,totalForSale:I.length,loadMore:E,priceSort:A,togglePriceSort:function(){B((function(e){return"asc"===e?"desc":"asc"}))},isFetchingMoreNfts:D})]}),Object(Ie.jsx)(yt,{collectionAddress:o.c,currentTokenName:(null===W||void 0===W?void 0:W.name)||(null===u||void 0===u?void 0:u.name)})]})},Rt=n(5),Mt=n(891),Wt=function(e){var t,n,c,r,i,a=e.nft,s=e.isOwnNft,l=e.nftIsProfilePic,b=Object(I.b)().t,x=Object(N.a)(),u=(null===(t=a.marketData)||void 0===t?void 0:t.currentAskPrice)?parseFloat(a.marketData.currentAskPrice):0,O=Object(C.d)(x,u),h=Object(d.Zc)(Object(Ie.jsx)(Me,{nftToBuy:a})),p=Object(j.a)(h,1)[0],f=Object(d.Zc)(Object(Ie.jsx)(We.a,{variant:(null===(n=a.marketData)||void 0===n?void 0:n.isTradable)?"edit":"sell",nftToSell:a})),m=Object(j.a)(f,1)[0],g=Object(d.Zc)(Object(Ie.jsx)(Mt.a,{}),!1),v=Object(j.a)(g,1)[0],w=Object(Ie.jsxs)(d.bb,{children:[Object(Ie.jsx)(d.t,{disabled:l,minWidth:"168px",mr:"16px",width:["100%",null,"max-content"],mt:"24px",onClick:m,children:(null===(c=a.marketData)||void 0===c?void 0:c.isTradable)?b("Adjust price"):b("List for sale")}),!(null===(r=a.marketData)||void 0===r?void 0:r.isTradable)&&Object(Ie.jsx)(d.t,{minWidth:"168px",variant:"secondary",width:["100%",null,"max-content"],mt:"24px",onClick:v,children:b(l?"Change Profile Pic":"Set as Profile Pic")})]});return Object(Ie.jsx)(d.y,{mb:"40px",children:Object(Ie.jsx)(d.z,{children:Object(Ie.jsxs)(Ze,{flexDirection:["column-reverse",null,"row"],children:[Object(Ie.jsx)(d.bb,{flex:"2",children:Object(Ie.jsxs)(d.o,{children:[Object(Ie.jsx)(Ye,{to:"".concat(o.b,"/collections/").concat(a.collectionAddress),children:a.collectionName}),Object(Ie.jsx)(d.xc,{fontSize:"40px",bold:!0,mt:"12px",children:a.name}),Object(Ie.jsx)(d.xc,{mt:["16px","16px","48px"],children:b(a.description)}),Object(Ie.jsx)(d.xc,{color:"textSubtle",mt:["16px","16px","48px"],children:b("Price")}),u>0?Object(Ie.jsxs)(d.bb,{alignItems:"center",mt:"8px",children:[Object(Ie.jsx)(d.l,{width:18,height:18,mr:"4px"}),Object(Ie.jsx)(d.xc,{fontSize:"24px",bold:!0,mr:"4px",children:a.marketData.currentAskPrice}),x?Object(Ie.jsx)(d.xc,{color:"textSubtle",children:"(~".concat(O.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})," USD)")}):Object(Ie.jsx)(d.dc,{width:"64px"})]}):Object(Ie.jsx)(d.xc,{children:b("Not for sale")}),l&&Object(Ie.jsx)(d.xc,{color:"failure",children:b("This NFT is your profile picture, you must change it to some other NFT if you want to sell this one.")}),s&&w,!s&&Object(Ie.jsx)(d.t,{minWidth:"168px",disabled:!(null===(i=a.marketData)||void 0===i?void 0:i.isTradable),mr:"16px",width:["100%",null,"max-content"],mt:"24px",onClick:p,children:b("Buy")})]})}),Object(Ie.jsx)(d.bb,{flex:"2",justifyContent:["center",null,"flex-end"],alignItems:"center",children:Object(Ie.jsx)(Ue,{src:a.image.thumbnail,width:440,height:440})})]})})})},zt=(we={},Object(A.a)(we,Z.c.FORSALE,"failure"),Object(A.a)(we,Z.c.WALLET,"secondary"),Object(A.a)(we,Z.c.PROFILE,"textSubtle"),we),_t=(Se={},Object(A.a)(Se,Z.c.FORSALE,d.cc),Object(A.a)(Se,Z.c.WALLET,d.Qc),Object(A.a)(Se,Z.c.PROFILE,d.x),Se),Ut=function(e){var t=e.nft,n=Object(I.b)().t,c=t.location===Z.c.WALLET?"sell":"edit",r=Object(d.Zc)(Object(Ie.jsx)(ct.a,{nft:t})),i=Object(j.a)(r,1)[0],a=Object(d.Zc)(Object(Ie.jsx)(We.a,{variant:c,nftToSell:t})),o=Object(j.a)(a,1)[0];return Object(Ie.jsxs)(He,{gridTemplateColumns:"96px 1fr",px:"16px",pb:"8px",my:"16px",onClick:t.location===Z.c.PROFILE?i:o,children:[Object(Ie.jsx)(Ve,{src:t.image.thumbnail,width:64,height:64,mx:"16px"}),Object(Ie.jsxs)(d.cb,{gridTemplateColumns:"1fr 1fr",children:[Object(Ie.jsx)(d.xc,{bold:!0,children:t.name}),Object(Ie.jsx)(d.xc,{fontSize:"12px",color:"textSubtle",textAlign:"right",children:t.collectionName}),t.location===Z.c.FORSALE?Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsx)(d.xc,{small:!0,color:"textSubtle",children:n("Your price")}),Object(Ie.jsxs)(d.bb,{justifySelf:"flex-end",width:"max-content",children:[Object(Ie.jsx)(d.l,{width:"16px",height:"16px",mr:"4px"}),Object(Ie.jsx)(d.xc,{small:!0,children:t.marketData.currentAskPrice})]})]}):Object(Ie.jsx)(d.xc,{small:!0,color:"textDisabled",children:n("Not on sale")})]})]})},Vt=function(e){var t=e.nft,n=Object(I.b)().t,c=_t[t.location];return Object(Ie.jsxs)(d.bb,{flexDirection:"column",children:[Object(Ie.jsxs)(d.cb,{gridTemplateColumns:"32px 1fr",px:"16px",pb:"8px",children:[Object(Ie.jsx)(c,{color:zt[t.location],width:"24px",height:"24px"}),Object(Ie.jsx)(d.xc,{display:"inline",bold:!0,color:zt[t.location],children:n(t.location)})]}),Object(Ie.jsx)(Ut,{nft:t},t.tokenId)]})},Zt=function(e){var t=e.nft,n=e.isLoading,c=e.isOwnNft,r=Object(I.b)().t,i=Object(x.c)().account,a=c&&t,o=Object(Ie.jsxs)(d.o,{pt:"16px",children:[!i&&Object(Ie.jsx)(d.bb,{mb:"16px",justifyContent:"center",children:Object(Ie.jsx)(Be.a,{})}),i&&n&&Object(Ie.jsxs)(d.o,{px:"16px",pb:"8px",children:[Object(Ie.jsx)(d.dc,{mb:"8px"}),Object(Ie.jsx)(d.dc,{mb:"8px"}),Object(Ie.jsx)(d.dc,{mb:"8px"})]}),!n&&!a&&Object(Ie.jsx)(d.xc,{px:"16px",pb:"16px",color:"textSubtle",children:r("You don\u2019t have this item.")}),!n&&a&&Object(Ie.jsx)(Vt,{nft:t})]});return Object(Ie.jsx)(tt,{title:r("Manage Yours"),icon:Object(Ie.jsx)(d.Q,{width:"24px",height:"24px"}),content:o})},Yt=function(e){var t,n=Object(i.useState)(null),c=Object(j.a)(n,2),r=c[0],a=c[1],o=Object(i.useState)(!0),s=Object(j.a)(o,2),x=s[0],d=s[1],u=Object(R.f)(e.collectionAddress),O=null===(t=e.marketData)||void 0===t?void 0:t.currentSeller,h=e.tokenId;return Object(i.useEffect)((function(){var e=function(){var e=Object(b.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.ownerOf(h);case 3:t=e.sent,a(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a(null);case 10:return e.prev=10,d(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})));return function(){return e.apply(this,arguments)}}();O&&"0x0000000000000000000000000000000000000000"!==O?(a(O),d(!1)):e()}),[O,u,h]),{owner:r,isLoadingOwner:x}},Ht=Object(H.e)(d.y)(ye||(ye=Object(Y.a)(["\n  width: 100%;\n  & > div:first-child {\n    display: flex;\n    flex-direction: column;\n  }\n"]))),Jt=Object(H.e)(d.cb)(ke||(ke=Object(Y.a)(["\n  grid-template-columns: 2fr 2fr 1fr;\n  grid-row-gap: 16px;\n  margin-top: 16px;\n  margin-bottom: 8px;\n  align-itmes: center;\n"]))),Qt=function(e){var t,n,c,r,i,a=e.nft,o=e.isOwnNft,s=e.nftIsProfilePic,l=Object(I.b)().t,b=Object(F.a)().theme,x=Object(N.a)(),u=Yt(a),O=u.owner,h=u.isLoadingOwner,p=Object(C.d)(x,parseFloat(null===(t=a.marketData)||void 0===t?void 0:t.currentAskPrice)),f=Object(d.Zc)(Object(Ie.jsx)(Me,{nftToBuy:a})),m=Object(j.a)(f,1)[0],g=Object(d.Zc)(Object(Ie.jsx)(We.a,{variant:(null===(n=a.marketData)||void 0===n?void 0:n.isTradable)?"edit":"sell",nftToSell:a})),v=Object(j.a)(g,1)[0];return Object(Ie.jsxs)(Ht,{children:[Object(Ie.jsxs)(d.cb,{flex:"0 1 auto",gridTemplateColumns:"34px 1fr",alignItems:"center",height:"72px",px:"24px",borderBottom:"1px solid ".concat(b.colors.cardBorder),children:[Object(Ie.jsx)(d.cc,{width:"24px",height:"24px"}),Object(Ie.jsx)(d.xc,{bold:!0,children:l("Owner")})]}),O&&Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsxs)(Xe,{flex:"0 1 auto",gridTemplateColumns:"2fr 2fr 1fr",py:"12px",children:[Object(Ie.jsx)(d.bb,{alignItems:"center",children:Object(Ie.jsx)(d.xc,{textTransform:"uppercase",color:"textSubtle",bold:!0,fontSize:"12px",px:"24px",children:l("Price")})}),Object(Ie.jsx)(d.xc,{textTransform:"uppercase",color:"textSubtle",bold:!0,fontSize:"12px",children:l("Owner")})]}),Object(Ie.jsxs)(Jt,{children:[Object(Ie.jsx)(d.o,{pl:"24px",children:(null===(c=a.marketData)||void 0===c?void 0:c.isTradable)?Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsxs)(d.bb,{justifySelf:"flex-start",alignItems:"center",width:"max-content",children:[Object(Ie.jsx)(d.l,{width:"24px",height:"24px",mr:"8px"}),Object(Ie.jsx)(d.xc,{bold:!0,children:Object(D.e)(parseFloat(a.marketData.currentAskPrice),0,3)})]}),x?Object(Ie.jsx)(d.xc,{fontSize:"12px",color:"textSubtle",children:"(~".concat(Object(D.e)(p,2,2)," USD)")}):Object(Ie.jsx)(d.dc,{width:"86px",height:"12px",mt:"4px"})]}):Object(Ie.jsx)(d.bb,{alignItems:"center",height:"100%",children:Object(Ie.jsx)(d.xc,{children:l("Not for sale")})})}),Object(Ie.jsx)(d.o,{children:Object(Ie.jsx)(d.bb,{width:"max-content",alignItems:"center",children:Object(Ie.jsx)(kt.a,{accountAddress:O.toLowerCase()})})}),Object(Ie.jsx)(Qe,{children:o?Object(Ie.jsx)(d.t,{disabled:s,scale:"sm",variant:"secondary",maxWidth:"128px",onClick:v,children:(null===(r=a.marketData)||void 0===r?void 0:r.isTradable)?l("Manage"):l("Sell")}):Object(Ie.jsx)(d.t,{disabled:!(null===(i=a.marketData)||void 0===i?void 0:i.isTradable),scale:"sm",variant:"secondary",maxWidth:"128px",onClick:m,children:l("Buy")})})]})]}),h&&Object(Ie.jsx)(d.dc,{}),!h&&!O&&Object(Ie.jsx)(d.bb,{justifyContent:"center",alignItems:"center",height:"200px",children:Object(Ie.jsx)(d.xc,{children:l("Owner information is not available for this item")})})]})},Xt=function(e){var t,n=e.collectionAddress,c=e.tokenId,r=Object(i.useState)(null),a=Object(j.a)(r,2),o=a[0],s=a[1],u=Object(i.useState)(!1),O=Object(j.a)(u,2),h=O[0],w=O[1],S=Object(k.a)(n),y=S.data,I=S.isFetching,C=Object(x.c)().account,N=Object(m.k)(),B=N.userNftsInitializationState,F=N.nfts;if(Object(nt.a)(C),Object(i.useEffect)((function(){var e=function(){var e=Object(b.a)(l.a.mark((function e(){var t,r,i,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.o)(n,c);case 2:return t=e.sent,e.next=5,Object(g.t)({collection:n.toLowerCase(),tokenId:c},1);case 5:r=e.sent,i=Object(j.a)(r,1),a=i[0],s({tokenId:c,collectionAddress:n,collectionName:t.collection.name,name:t.name,description:t.description,image:t.image,attributes:t.attributes,marketData:a});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(B===Z.d.INITIALIZED){var t=F.find((function(e){return e.collectionAddress.toLowerCase()===n.toLowerCase()&&e.tokenId===c}));t?(s(t),w(!0)):e()}C||e()}),[F,n,c,B,C]),!o)return Object(Ie.jsx)(v.a,{});var P=o.attributes,D=F.find((function(e){return e.location===Z.c.PROFILE})),T=!!D&&(o.tokenId===D.tokenId&&o.collectionAddress===D.collectionAddress);return Object(Ie.jsxs)(f.b,{children:[Object(Ie.jsx)(Wt,{nft:o,isOwnNft:h,nftIsProfilePic:T}),Object(Ie.jsxs)(_e,{flexDirection:["column","column","row"],children:[Object(Ie.jsxs)(d.bb,{flexDirection:"column",width:"100%",children:[Object(Ie.jsx)(Zt,{nft:o,isOwnNft:h,isLoading:B!==Z.d.INITIALIZED}),Object(Ie.jsx)(dt,{properties:P,rarity:y&&!I?Object.keys(y).reduce((function(e,t){var n,c=p()(Object.values(y[t])),r=null===(n=o.attributes.find((function(e){return e.traitType===t})))||void 0===n?void 0:n.value,i=y[t][r]/c*100;return Object(Rt.a)(Object(Rt.a)({},e),{},Object(A.a)({},t,i))}),{}):{}}),Object(Ie.jsx)(ht,{contractAddress:n,ipfsJson:null===o||void 0===o||null===(t=o.marketData)||void 0===t?void 0:t.metadataUrl})]}),Object(Ie.jsx)(Qt,{nft:o,isOwnNft:h,nftIsProfilePic:T})]}),Object(Ie.jsx)(yt,{collectionAddress:n,currentTokenName:o.name})]})};t.default=function(){var e=Object(a.i)(),t=e.collectionAddress,n=e.tokenId;return t.toLowerCase()===o.c.toLowerCase()?Object(Ie.jsx)(Lt,{bunnyId:n}):Object(Ie.jsx)(Xt,{collectionAddress:t,tokenId:n})}},890:function(e,t,n){var c=n(990),r=n(248);e.exports=function(e){return e&&e.length?c(e,r):0}},918:function(e,t,n){"use strict";n.d(t,"b",(function(){return j}));var c=n(3),r=n.n(c),i=n(5),a=n(11),o=n(9),s=n(0),l=n(72),b=n(87),j=function(){var e=Object(s.useState)({isFetching:!1,data:null}),t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(s.useEffect)((function(){(function(){var e=Object(a.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c((function(e){return Object(i.a)(Object(i.a)({},e),{},{isFetching:!0})})),e.next=3,Object(l.f)(b.c);case 3:t=e.sent,c({isFetching:!1,data:t.data});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[c]),n};t.a=function(e){var t=Object(s.useState)({isFetching:!1,data:null}),n=Object(o.a)(t,2),c=n[0],b=n[1];return Object(s.useEffect)((function(){(function(){var t=Object(a.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b((function(e){return Object(i.a)(Object(i.a)({},e),{},{isFetching:!0})})),t.next=3,Object(l.f)(e);case 3:n=t.sent,b({isFetching:!1,data:n.data});case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e,b]),c}},989:function(e,t,n){"use strict";var c=n(3),r=n.n(c),i=n(11),a=n(9),o=n(0),s=n(72),l=n(87);t.a=function(e){var t=Object(o.useState)(null),n=Object(a.a)(t,2),c=n[0],b=n[1],j=e===l.c;return Object(o.useEffect)((function(){j&&!c&&function(){var e=Object(i.a)(r.a.mark((function e(){var t,n,c,i,a,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.q)(l.c);case 2:return t=e.sent,n=t.data,c=Object.keys(n),e.next=7,Object(s.c)(c);case 7:return i=e.sent,e.next=10,Object(s.d)(c);case 10:a=e.sent,o=c.map((function(e){return{tokenId:n[e].name,name:n[e].name,description:n[e].description,collectionAddress:l.c,collectionName:n[e].collection.name,image:n[e].image,attributes:[{traitType:"bunnyId",value:e,displayType:null}],meta:{currentAskPrice:i[e],updatedAt:a[e]}}})),b(o);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[j,c]),c}},990:function(e,t){e.exports=function(e,t){for(var n,c=-1,r=e.length;++c<r;){var i=t(e[c]);void 0!==i&&(n=void 0===n?i:n+i)}return n}}}]);
//# sourceMappingURL=22.74c8a3ef.chunk.js.map